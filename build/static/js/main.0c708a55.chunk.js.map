{"version":3,"sources":["components/MicroCard.js","components/FollowersColumn.js","components/Card.js","components/MiniCard.js","pages/Home.js","pages/Upload.js","components/Header.js","index.js"],"names":["MicroCard","user","className","src","avatar","width","username","name","FollowersColumn","topFiveFollowing","users","map","index","Card","toggleFollow","timeStampReformat","timestamp","slice","caption","button_visible","is_followed","onClick","controls","video","type","class","likes","comments","MiniCard","Home","descendingUsers","topFiveNotFollowing","useState","setUsers","userToToggle","setUserToToggle","addData","a","axios","post","fetchData","get","results","console","log","data","put","userId","id","then","res","json","catch","err","error","useEffect","sort","b","filter","descendingUser","notFollowingUser","Upload","setVideo","setCaption","Date","toISOString","faker","random","uuid","handleSubmit","e","preventDefault","response","onSubmit","onChange","target","value","Header","to","App","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0c708a55.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst MicroCard = ({ user }) => {\r\n  return (\r\n    <div className=\"section microcard\">\r\n      <img className=\"user-profile\"  src={user.avatar} width={'100%'} />\r\n      <div>\r\n        <h3 className=\"bold\">{user.username}</h3>\r\n        <p>{user.name}</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n  \r\nexport default MicroCard","import React from 'react'\r\nimport MicroCard from '../components/MicroCard'\r\n\r\nconst FollowersColumn = (topFiveFollowing) => {\r\n  const users = topFiveFollowing.users\r\n\r\n  return (\r\n    <div className=\"followers-column\">\r\n      <div className=\"followers-section\">\r\n        <div className=\"home\" />\r\n        <h2 className=\"bold red\">For You</h2>\r\n      </div>\r\n      <div className=\"followers-section\">\r\n        <div className=\"following\" />\r\n        <h2>Following</h2>\r\n      </div>\r\n      <hr />\r\n      <p>Your top accounts</p>\r\n      {users && users.map((user, index) => (\r\n        <MicroCard \r\n            key={index} user={user}\r\n        />))}\r\n      <hr />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FollowersColumn","import React from 'react'\r\n\r\nconst Card = ({ user, toggleFollow }) => {\r\n\r\n  const timestamp = user.timestamp\r\n  const timeStampReformat = timestamp.slice(2, 7)\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"break\" />\r\n        <div className=\"section\">\r\n          <div className=\"user-info\">\r\n            <img className=\"user-profile\"  src={user.avatar} width={'100%'} />\r\n            <div>\r\n            <div className=\"section\">\r\n              <h3 className=\"bold\">{user.username}</h3>\r\n              <p className=\"username\">{user.name}</p>\r\n              <p>{timeStampReformat}</p>\r\n            </div> \r\n            <p>{user.caption}</p>\r\n            </div>\r\n          </div>\r\n          {user.button_visible && <div className={user.is_followed? \"followed-button\" : \"follow-button\"}\r\n            onClick={() => toggleFollow(user)}>\r\n              {user.is_followed? \"Following\": \"Follow\"}\r\n          </div>}\r\n        </div>\r\n        <video className=\"video\" controls>\r\n          <source src={user.video} type=\"video/mp4\" />\r\n        </video>\r\n        <div className=\"section socials\">\r\n           <i class=\"far fa-heart\"></i>\r\n          <div className=\"social-tag\">{user.likes}</div>\r\n          <i class=\"far fa-comment-dots\"></i>\r\n          <div className=\"social-tag\">{user.comments}</div>\r\n          <i class=\"far fa-share-square\"></i>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Card","import React from 'react'\r\n\r\nconst MiniCard = ({ user, toggleFollow }) => {\r\n  return (\r\n    <div className=\"section minicard\">\r\n      <div className=\"section\">\r\n        <img className=\"user-profile\"  src={user.avatar} width={'100%'} />\r\n        <div>\r\n          <h3 className=\"bold\">{user.username}</h3>\r\n          <p>{user.name}</p>\r\n      </div>\r\n    </div>\r\n      {user.button_visible && <div className={user.is_followed? \"followed-button\" : \"follow-button\"}\r\n        onClick={() => toggleFollow(user)}\r\n      >\r\n      {user.is_followed? \"Following\": \"Follow\"}\r\n      </div>}\r\n    </div>\r\n  )\r\n}\r\n    \r\nexport default MiniCard","import React, { useState, useEffect } from 'react'\r\nimport FollowersColumn from '../components/FollowersColumn'\r\nimport Card from '../components/Card'\r\nimport MiniCard from '../components/MiniCard'\r\nimport axios from 'axios'\r\n\r\nconst Home = () => {\r\n  const [users, setUsers] = useState(null)\r\n  const [userToToggle, setUserToToggle] = useState(null)\r\n  let descendingUsers\r\n  let topFiveNotFollowing\r\n  let topFiveFollowing\r\n\r\n  //auto populating with dummy data\r\n  const addData = async () => {\r\n    await axios.post('/.netlify/functions/addData')\r\n  }\r\n\r\n  //fetch all the tik-tok posts to your feed\r\n  const fetchData = async () => {\r\n    const results = await axios.get('/.netlify/functions/posts')\r\n    console.log(results.data)\r\n    setUsers(results.data)\r\n  }\r\n\r\n  //toggle user from followed to unfollowed\r\n  if (userToToggle) {\r\n  const newValue = userToToggle.is_followed ? false : true\r\n  const data = {is_followed: newValue}\r\n\r\n   axios.put('/.netlify/functions/edit', {userId: userToToggle.id, data: data })\r\n    .then(res => res.json())\r\n    .then(json => console.log(json))\r\n    .catch(err => console.error('error:' + err))\r\n    .then(() => fetchData())\r\n      setUserToToggle(null)\r\n  }\r\n\r\n  useEffect(() => {\r\n    addData()\r\n    fetchData()\r\n  }, [])\r\n\r\n  if (users) {\r\n    descendingUsers = users.sort((a, b) => a.id < b.id ? 1 : -1)\r\n    const following = users.filter(user => user.is_followed === true)\r\n    const descendingFollowing = following.sort((a, b) => a.likes < b.likes ? 1 : -1)\r\n    topFiveFollowing = descendingFollowing.slice(0, 5)\r\n\r\n    const notFollowing = users.filter((user) => user.is_followed === false)\r\n    const descendingNotFollowing = notFollowing.sort((a, b) => a.likes < b.likes ? 1 : -1)\r\n    topFiveNotFollowing = descendingNotFollowing.slice(0, 5)\r\n  }\r\n\r\n  return (\r\n    <>\r\n    {descendingUsers && (\r\n      <div className='container'>\r\n        <FollowersColumn users={topFiveFollowing} />\r\n        <div className='feed'>\r\n          {descendingUsers.map((descendingUser, index) => (\r\n            <Card\r\n              key={index}\r\n              user={descendingUser}\r\n              toggleFollow={userToToggle => setUserToToggle(userToToggle)}\r\n            />\r\n          ))}\r\n        </div>\r\n        <div className=\"suggested-box\">\r\n          <div className=\"section\">\r\n            <div className=\"suggested\">\r\n              <h2 className=\"bold\">Suggested accounts</h2>\r\n              <div className=\"break\" />\r\n              {topFiveNotFollowing.map((notFollowingUser, index) => (\r\n                <MiniCard \r\n                  key={index} user={notFollowingUser}\r\n                  toggleFollow={userToToggle => setUserToToggle(userToToggle)}\r\n\t\t  \t        />)\r\n\t\t  \t      )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Home","import React, { useState } from 'react'\r\nimport axios from 'axios'\r\nimport faker from \"faker\"\r\n\r\nconst Upload = () => {\r\n  const username = 'aniak100'\r\n  const name = 'Ania Kubow'\r\n  const avatar = 'https://i.imgur.com/QwZod6m.png'\r\n  const [video, setVideo] = useState(null)\r\n  const [caption, setCaption] = useState(null)\r\n  const today = new Date()\r\n  const timestamp = today.toISOString()\r\n\r\n  let id = faker.random.uuid()\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n\r\n    const data =  {\r\n        id: id,\r\n        name: name,\r\n        username: username,\r\n        avatar: avatar,\r\n        is_followed: false,\r\n        video: video,\r\n        caption: caption,\r\n        likes: 0,\r\n        comments: 0,\r\n        timestamp: timestamp,\r\n        button_visible: false  \r\n      }\r\n\r\n      axios.post('/.netlify/functions/add', data)\r\n      .then((response) => {\r\n      console.log(response)\r\n      })\r\n    .catch((err) => {\r\n      console.error(err)\r\n  })\r\n  }\r\n\r\n  return (\r\n    <div className=\"upload-page\">\r\n        <br />\r\n        <h1>Upload video</h1>\r\n        <p>This video will be published to @{username}</p>\r\n        <div className='container'>\r\n          <form onSubmit={handleSubmit}>\r\n            <div className='section'>\r\n              <div className=\"image-upload\"></div>\r\n              <div className=\"form-section\">\r\n                <div className='section input-section'>\r\n                  <label className=\"bold\">Caption</label>\r\n                  <input\r\n                    className='input'\r\n                    name='caption'\r\n                    onChange={(e) => setCaption(e.target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"break\"></div>\r\n                <div className='section input-section'>\r\n                  <label className=\"bold\">Video Url</label>\r\n                  <input\r\n                    className='input'\r\n                    name='video'\r\n                    onChange={(e) => setVideo(e.target.value)}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\t\t\t\r\n            <button>Post</button>\r\n          </form>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Upload","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Header = () => {\r\n  return (\r\n    <div className=\"header\">\r\n      <Link to='/'>\r\n        <div className=\"logo\"></div>\r\n      </Link>\r\n      <div className=\"upload-container\">\r\n        <div className=\"section\">\r\n          <Link to='/upload'>\r\n            <div className=\"upload\" />\r\n          </Link>\r\n          <img className=\"personal\" src=\"https://i.imgur.com/QwZod6m.png\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )  \r\n}\r\n  \r\nexport default Header","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { HashRouter, Route , Switch} from 'react-router-dom'\r\nimport Home from './pages/Home'\r\nimport Upload from './pages/Upload'\r\nimport Header from './components/Header'\r\nimport \"core-js/stable\"\r\nimport \"regenerator-runtime/runtime\"\r\nimport './App.css'\r\n\r\nconst App = () => {\r\n  \r\n  return (\r\n    <HashRouter>\r\n      <Header />\r\n    <Switch>\r\n      <Route path= \"/upload\" component={Upload}/>\r\n      <Route path= \"/\" component={Home}/>\r\n    </Switch>\r\n  </HashRouter>\r\n  )\r\n}\r\n\r\nexport default App\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}